<html>

<textarea id="textarea" rows="2" cols"3"></textarea>

<script type="text/javascript"> 
  addEventListener("keydown", function(event) {
    if (event.keyCode == 39){  //right 
      grid.setPosition(1, 0);
      console.log("right");
    }
    if (event.keyCode == 37){  //left 
      grid.setPosition(-1, 0);
      console.log("left");
    }
    if (event.keyCode == 38){ //up
      grid.setPosition(0,-1);
      console.log("up");
    }
    if (event.keyCode == 40){ //down
      grid.setPosition(0,1);
      console.log("down");
    }
    //printMatrix();
    update();
  });

  var grid = {
    currX: 0,
    currY: 0,
    xBound: 2,
    yBound: 1,
    matrix: initMatrix(), 
    setPosition: function(x, y) {
      //check to see if new position is within grid bounds
      if (grid.currX + x >= 0 && grid.currX + x <= grid.xBound  && grid.currY + y >=0 && grid.currY + y <= grid.yBound) { 
        grid.matrix[grid.currY][grid.currX] = "_";
        grid.currX = grid.currX + x;
        grid.currY = grid.currY + y;
        //console.log('setting new position' + ' ' + grid.currX + ' ' + grid.currY);
        grid.matrix[grid.currY][grid.currX] = "x";
      } 
    }
  }

  function initMatrix() {
    var a = [];
    for(var y = 0; y < 2; y++) {
      a[y] = [];
      for(var x = 0; x < 3; x++) { 
        a[y][x] = "_"; 
      } 
    }
    return a; 
  }

  function printMatrix() {
    for (var y = 0; y < 2; y++) {
      for (var x = 0; x < 3; x++)  {
        console.log(x + ',' + y + ' ' + grid.matrix[y][x]); 
      }
    }
  }

  function update() {
    var str1 = "";
    var str2 = ""; 
    printMatrix();
    for (var i = 0; i < grid.matrix[0].length; i++) {
      str1 = str1 + grid.matrix[0][i];
      str2 = str2 + grid.matrix[1][i];
    }
    console.log('str1: ' + str1);
    console.log('str2: ' + str2);
    document.getElementById("textarea").innerHTML = str1 + "\n" + str2;
  }
  
  
</script>



</html>
